/**
 * AngularJS service providing HTML5 local storage support
 * @version v0.1.0 - 2013-11-18
 * @link https://github.com/baumandm/angularLocalStorage
 * @author Dave Bauman <baumandm@gmail.com>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
(function(){angular.module("angularLocalStorage",["ngCookies"]).factory("storage",["$parse","$cookieStore","$window","$log",function(a,b,c,d){var e,f,g,h;return g=null!=c.localStorage?c.localStorage:null,h=null!=g,e={parseValue:function(a){var b,d;try{d=angular.fromJson(a),null==d&&(d=a),"true"===d&&(d=!0),"false"===d&&(d=!1),c.parseFloat(d)!==d||angular.isObject(d)||(d=c.parseFloat(d))}catch(e){b=e,d=a}return d}},f={set:function(a,c){var f,i;if(!h)try{return b.put(a,c),c}catch(j){f=j,d.log("Local Storage not supported, make sure you have angular-cookies enabled.")}return i=angular.toJson(c),g.setItem(a,i),e.parseValue(i)},get:function(a){var b,c;if(!h)try{return e.parseValue($.cookie(a))}catch(d){return b=d,null}return c=g.getItem(a),e.parseValue(c)},remove:function(a){var c;if(!h)try{return b.remove(a),!0}catch(d){return c=d,!1}return g.removeItem(a),!0},bind:function(b,c,d){var e,g;return e={defaultValue:"",storeName:""},d=angular.isString(d)?angular.extend({},e,{defaultValue:d}):angular.isUndefined(d)?e:angular.extend(e,d),g=d.storeName||c,f.get(g)||f.set(g,d.defaultValue),a(c).assign(b,f.get(g)),b.$watch(c,function(a){return angular.isDefined(a)?f.set(g,a):void 0},!0),f.get(g)},unbind:function(b,c,d){return d=d||c,a(c).assign(b,null),b.$watch(c,function(){}),f.remove(d)},clearAll:function(){return g.clear()}}}])}).call(this);